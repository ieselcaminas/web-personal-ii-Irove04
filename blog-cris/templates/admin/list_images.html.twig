{% extends 'base.html.twig' %}

{% block title %}Galería de Imágenes{% endblock %}

{% block body %}
    <div class="center">
        <div class="center1">
            <h2>Galería de Imágenes</h2>
            <p>
                Aquí puedes ver y gestionar las imágenes subidas a la plataforma.
            </p>

            <hr>

            {# Sección de la lista de imágenes #}
            <div class="image-list" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); gap: 20px; margin-top: 30px;">
                {% for image in images %}
                    <div class="image-card" style="border: 1px solid #ddd; padding: 10px; border-radius: 8px; text-align: center; background: #fff;">

                        {# Uso del asset según tu requerimiento #}
                        <img src="{{ asset('images/index/gallery/' ~ image.file) }}"
                             alt="Imagen {{ image.id }}"
                             style="width: 100%; height: 200px; object-fit: cover; border-radius: 4px;">

                        <div style="margin-top: 10px; font-size: 0.9em; color: #666;">
                            <p>
                                <strong>Categoría:</strong> {{ image.category.name }} <br>
                                <i class="fa fa-heart"></i> {{ image.numLikes }} Likes |
                                <i class="fa fa-eye"></i> {{ image.numViews }} Vistas
                            </p>

                            {# Botones de acción opcionales #}
                            <div style="margin-top: 10px;">
                                <a href="{{ path('delete_image', {'id': image.id}) }}"
                                   class="btn btn-sm btn-danger"
                                   style="color: red;"
                                   onclick="return confirm('¿Estás seguro de que deseas eliminar esta imagen?');">
                                    Eliminar
                                </a>                            </div>
                        </div>
                    </div>
                {% else %}
                    <div class="center1">
                        <p>No hay imágenes disponibles en la galería todavía.</p>
                    </div>
                {% endfor %}
            </div>

            <div style="margin-top: 40px;">
                <a href="{{ path('index') }}" class="sr-button btn-lg">Volver al Inicio</a>
            </div>
        </div>
    </div>
{% endblock %}